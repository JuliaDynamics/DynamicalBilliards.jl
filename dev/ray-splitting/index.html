<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Ray-Splitting · DynamicalBilliards.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/logo.ico" rel="icon" type="image/x-icon"/><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="DynamicalBilliards.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">DynamicalBilliards.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../basic/high_level/">High Level API</a></li><li><a class="tocitem" href="../billiards_visualizations/">Visualizing &amp; Animating</a></li><li><a class="tocitem" href="../basic/phasespaces/">Phase Spaces</a></li><li class="is-active"><a class="tocitem" href>Ray-Splitting</a><ul class="internal"><li><a class="tocitem" href="#.-Ray-Splitting-Obstacles-1"><span>1. Ray-Splitting Obstacles</span></a></li><li><a class="tocitem" href="#.-The-RaySplitter-structure-1"><span>2. The <code>RaySplitter</code> structure</span></a></li><li><a class="tocitem" href="#.-Evolution-with-Ray-Splitting-1"><span>3. Evolution with Ray-Splitting</span></a></li><li><a class="tocitem" href="#The-Ray-Splitting-Algorithm-1"><span>The Ray-Splitting Algorithm</span></a></li><li><a class="tocitem" href="#Physics-of-the-Ray-Splitting-Functions-1"><span>Physics of the Ray-Splitting Functions</span></a></li><li><a class="tocitem" href="#Snell&#39;s-Law-1"><span>Snell&#39;s Law</span></a></li><li><a class="tocitem" href="#Animation-of-Inverse-Billiards-1"><span>Animation of Inverse Billiards</span></a></li></ul></li><li><a class="tocitem" href="../lyapunovs/">Lyapunov Exponents</a></li><li><a class="tocitem" href="../mushroomtools/">MushroomTools</a></li><li><a class="tocitem" href="../physics/">Physics</a></li><li><a class="tocitem" href="../basic/low_level/">Internals</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/billiard_table/">Defining a Billiard</a></li><li><a class="tocitem" href="../tutorials/own_obstacle/">Defining your own Obstacles</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Ray-Splitting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Ray-Splitting</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/master/docs/src/ray-splitting.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Ray-Splitting-1"><a class="docs-heading-anchor" href="#Ray-Splitting-1">Ray-Splitting</a><a class="docs-heading-anchor-permalink" href="#Ray-Splitting-1" title="Permalink"></a></h1><p>Ray-splitting is a semi-classical approach to the billiard system, giving a wave attribute to the ray traced by the particle. Upon collision a particle may propagate through an obstacle (transmission &amp; refraction) or be reflected. Following the mindset of this package, implementing a ray-splitting billiard requires only three simple steps. We will introduce them and demonstrate them using a simple example in this documentation page.</p><h2 id=".-Ray-Splitting-Obstacles-1"><a class="docs-heading-anchor" href="#.-Ray-Splitting-Obstacles-1">1. Ray-Splitting Obstacles</a><a class="docs-heading-anchor-permalink" href="#.-Ray-Splitting-Obstacles-1" title="Permalink"></a></h2><p>The first step is that an <a href="../tutorials/billiard_table/#DynamicalBilliards.Obstacle"><code>Obstacle</code></a> that supports ray-splitting is required to be present in your billiard table. The only new feature these obstacles have is an additional Boolean field called <code>pflag</code> (propagation flag). This field notes on which side of the obstacle the particle is currently propagating.</p><p>The normal vector as well as the distance from boundary change sign depending on the value of <code>pflag</code>. The obstacles <a href="../tutorials/billiard_table/#DynamicalBilliards.Antidot"><code>Antidot</code></a>, <a href="../tutorials/billiard_table/#DynamicalBilliards.SplitterWall"><code>SplitterWall</code></a> and <a href="../tutorials/billiard_table/#DynamicalBilliards.FiniteSplitterWall"><code>FiniteSplitterWall</code></a> are the equivalents of disk, wall and finite-wall for ray-splitting.</p><p>Let&#39;s create a billiard with a bunch of ray-splitting obstacles!</p><pre><code class="language-julia">using DynamicalBilliards
x, y = 2.0, 1.0
bdr =  billiard_rectangle(x, y)
sw = SplitterWall([x/2, 0.0], [x/2,y], [-1,0], true)
a1 = Antidot([x/4, y/2], 0.25, &quot;Left Antidot&quot;)
a2 = Antidot([3x/4, y/2], 0.15, &quot;Right Antidot&quot;)
bd = Billiard(a1, a2, sw, bdr...)</code></pre><pre><code class="language-none">Billiard{Float64} with 7 obstacles:
  Left Antidot
  Right Antidot
  Splitter wall
  Bottom wall
  Right wall
  Top wall
  Left wall</code></pre><pre><code class="language-julia">using InteractiveDynamics, CairoMakie
fig, ax = bdplot(bd)
fig</code></pre><img src="data:image/png;base64,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" /><p>(notice also that raysplitting obstacles are by default plotted with a different color and with dotted linestyle)</p><h2 id=".-The-RaySplitter-structure-1"><a class="docs-heading-anchor" href="#.-The-RaySplitter-structure-1">2. The <code>RaySplitter</code> structure</a><a class="docs-heading-anchor-permalink" href="#.-The-RaySplitter-structure-1" title="Permalink"></a></h2><p>In the second step, you have to define 2+1 functions: transmission probability, refraction angle and optionally new angular velocity after transmission. These functions, as well as which obstacles participate in ray-splitting, are bundled into a special structure:</p><article class="docstring"><header><a class="docstring-binding" id="DynamicalBilliards.RaySplitter" href="#DynamicalBilliards.RaySplitter"><code>DynamicalBilliards.RaySplitter</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">RaySplitter(idxs, transmission, refraction [, newangular]; affect)</code></pre><p>Return a <code>RaySplitter</code> instance, used to perform raysplitting. <code>idxs</code> is a <code>Vector{Int}</code> with the indices of the obstacles that this <code>RaySplitter</code> corresponds to.</p><p><code>transmission</code>, <code>refraction</code> and <code>newangular</code> are <strong>functions</strong>. Let <code>φ</code> be the angle of incidence and <code>ω</code> be the angular velocity and <code>pflag</code> the propagation flag (before transmission). The functions have the following signatures:</p><ol><li><code>transmission(φ, pflag, ω) -&gt; T</code>, transmission probability.</li><li><code>refraction(φ, pflag, ω) -&gt; θ</code>, refraction angle. This angle is <em>relative</em> to the normal vector.</li><li><code>newangular(ω, pflag) -&gt; newω</code>, new angular velocity after transmission.</li></ol><p>The above three functions use the <strong>same convention</strong>: the argument <code>pflag</code> is the one the obstacle has <strong>before transmission</strong>. For example, if a particle is outside an <a href="../tutorials/billiard_table/#DynamicalBilliards.Antidot"><code>Antidot</code></a> (with <code>pflag = true</code> here) and is transmitted inside the <code>Antidot</code> (<code>pflag</code> becomes <code>false</code> here), then all three functions will be given their second argument (the Boolean one) as <code>true</code>!</p><p><code>affect</code> is a function, and denotes which obstacles of the billiard are affected when transmission occurs at obstacle <code>i</code> (for which obstacles should the field <code>pflag</code> be reversed). Defaults to <code>idxs = (i) -&gt; i</code>, i.e. only the colliding obstacle is affected. If you want many obstacles to be affected you could write <code>idxs = (i) -&gt; SVector(2,3,5)</code>, etc. Keep in mind that the only values of <code>i</code> that can be passed into this function are the ones that are given in the argument <code>idxs</code>!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/d511071309f4e6823c0cbe078658fe4aea8b6936/src/raysplitting.jl#L8-L38">source</a></section></article><p>If you want different type of transmission/refraction functions for different obstacles, then you define multiple <code>RaySplitter</code>s.</p><p>Continuing from the above billiard, let&#39;s also create some <code>RaySplitter</code> instances for it.</p><p>First define a refraction function</p><pre><code class="language-julia">refraction(φ, pflag, ω) = pflag ? 0.5φ : 2.0φ</code></pre><pre><code class="language-none">refraction (generic function with 1 method)</code></pre><p>Then, a transmission probability function. In this example, we want to create a function that given some factor <code>p</code>, it returns a probability weighted with <code>p</code> in one direction of ray-splitting and <code>1-p</code> in another direction.</p><pre><code class="language-julia">transmission_p(p) = (φ, pflag, ω) -&gt; begin
    if pflag
        p*exp(-(φ)^2/2(π/8)^2)
    else
        abs(φ) &lt; π/4 ? (1-p)*exp(-(φ)^2/2(π/4)^2) : 0.0
    end
end</code></pre><pre><code class="language-none">transmission_p (generic function with 1 method)</code></pre><p>Notice also how we defined the function in such a way that critical refraction is respected, i.e. if <code>θ(φ) ≥ π/2</code> then <code>T(φ) = 0</code>. Although this is necessary from a physical perspective, the code does take care of it by clamping the refraction angle (see below).</p><p>Lastly, for this example we will use magnetic propagation. We define functions such that the antidots also reverse the direction and magnitude of the magnetic field.</p><pre><code class="language-julia">newoantidot(x, bool) =  bool ? -2.0x : -0.5x
newowall(x, bool) = bool ? 0.5x : 2.0x</code></pre><pre><code class="language-none">newowall (generic function with 1 method)</code></pre><p>Now we create the <a href="#DynamicalBilliards.RaySplitter"><code>RaySplitter</code></a> instances we want</p><pre><code class="language-julia">raywall = RaySplitter([3], transmission_p(0.5), refraction, newowall)
raya = RaySplitter([1, 2], transmission_p(0.8), refraction, newoantidot)</code></pre><pre><code class="language-none">RaySplitter for indices [1, 2]
 transmission: #1
 refraction:   refraction
 new angular:  newoantidot
 affect:       default
</code></pre><p>Because we want to use same functions for both antidots, we gave both indices in <code>raya</code>, <code>[1, 2]</code> (which are the indices of the antidots in the billiard <code>bd</code>).</p><h2 id=".-Evolution-with-Ray-Splitting-1"><a class="docs-heading-anchor" href="#.-Evolution-with-Ray-Splitting-1">3. Evolution with Ray-Splitting</a><a class="docs-heading-anchor-permalink" href="#.-Evolution-with-Ray-Splitting-1" title="Permalink"></a></h2><p>The third step is trivial. After you have created your <code>RaySplitter</code>(s), you simply pass them into <code>evolve</code> or <code>timeseries</code> as a fourth argument! If you have many instances of <code>RaySplitter</code> you pass a tuple of them.</p><p>For example,</p><pre><code class="language-">using Random, InteractiveDynamics, CairoMakie
Random.seed!(42)
p = randominside(bd, 1.0)
raysplitters = (raywall, raya)
xt, yt, vxt, vyt, tt = timeseries(p, bd, 100, raysplitters)
fig, ax = bdplot(bd)
lines!(ax, xt, yt)
scatter!(ax, xt[[1, 100]], yt[[1, 100]]; color = &quot;black&quot;)
fig</code></pre><p>You can see that at some points the particle crossed the boundaries of the red obstacles, which allow for ray splitting.</p><div class="admonition is-info"><header class="admonition-header">Resetting the billiard</header><div class="admonition-body"><p>Notice that evolving a particle inside a billiard always mutates the billiard if ray-splitting is used. This means that you should always set the fields <code>pflag</code> of some obstacles to the values you desire after <em>each</em> call to <code>evolve</code>. If you use the function <a href="../basic/high_level/#DynamicalBilliards.randominside"><code>randominside</code></a> you must definitely do this!</p><p>The function <code>reset_billiard!(bd)</code> turns all <code>pflag</code>s to <code>true</code>.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Angle of refraction is clamped</header><div class="admonition-body"><p>Internally we clamp the output of the angle of refraction function. Let <code>c = DynamicalBilliards.CLAMPING_ANGLE</code> (currently <code>c = 0.1</code>). We clamp <code>θ</code> to <code>-π/2 + c ≤ θ ≤ π/2 - c</code>. This is so that the relocating algorithm does not fall into an infinite loop. You can change the value of <code>c</code> but very small values can lead to infinite loops in extreme cases.</p></div></div><h2 id="The-Ray-Splitting-Algorithm-1"><a class="docs-heading-anchor" href="#The-Ray-Splitting-Algorithm-1">The Ray-Splitting Algorithm</a><a class="docs-heading-anchor-permalink" href="#The-Ray-Splitting-Algorithm-1" title="Permalink"></a></h2><p>In this section we describe the algorithm we follow to implement the ray-splitting process. Let <span>$T$</span> denote the transmission function, <span>$\theta$</span> the refraction function and <span>$\omega_{\text{new}}$</span> the new angular velocity function. The following describes the process after a particle has reached an obstacle that supports ray-splitting.</p><ol><li><p>Find the angle of incidence <span>$\phi&#39; = \pi - \arccos(\vec{v} \cdot \vec{n}) = \arccos(\vec{v} \cdot (-\vec{n}))$</span> with <span>$\vec{n}$</span> the normal vector at collision point. Notice that we use here <span>$-\vec{n}$</span> because the velocity is opposing the normal vector before the collision happens. Using <span>$-\vec{n}$</span> gives the angle between 0 and <span>$\pi/2$</span> instead of <span>$\pi/2$</span> to <span>$\pi$</span>.</p></li><li><p>Find the <em>correct</em> sign of the incidence angle, <span>$\phi = \pm \phi&#39;$</span>. Specifically, use the cross product: if the third entry of <span>$\vec{v} \times \vec{n}$</span> is negative, then have minus sign. The &quot;correct&quot; sign debates on whether the velocity vector is to the right or to the left of <span>$(-\vec{n})$</span>. This is important for finding the correct transmission angle and/or probability.</p></li><li><p>Check if <span>$T(\phi, \verb|pflag|, \omega) &gt; \text{random}()$</span>. If not, do standard specular reflection.</p></li><li><p>If ray-splitting happens, then relocate the particle so that it is on the <em>other</em> side of the colliding obstacle. This contrasts the main evolution algorithm of this billiard package.</p></li><li><p>Re-compute the <em>correct</em> angle of incidence, as the position of the particle generally changes with relocating.</p></li><li><p>Find refraction angle <span>$\theta(\phi, \verb|pflag|, \omega)$</span>. Notice that this is a relative angle with respect to the normal vector. Also notice that <span>$\theta$</span> may have opposite sign from <span>$\phi$</span>. It depends on the user if they want to add anomalous refraction.</p></li><li><p>Set <code>obstacle.pflag = !obstacle.pflag</code> for <em>all</em> obstacles affected by the current <code>RaySplitter</code>. This reverses <span>$\vec{n}$</span> to <span>$-\vec{n}$</span> as well! So from now on <span>$\vec{n}$</span> is the opposite than what it was at the beginning of the algorithm!</p></li><li><p>Find the refraction angle in absolute space. First find <span>$a = \text{atan}(n_y, n_x)$</span> and then set <span>$\Theta = a + \theta$</span>.</p></li><li><p>Perform refraction, i.e. set the particle velocity to the direction of <span>$\Theta$</span>.</p></li><li><p>Scale the magnetic field, i.e. set <code>p.omega</code> = <span>$\omega_{\text{new}}(\omega, \verb|!pflag|)$</span>. It is important to note that we use <code>!pflag</code> because we have already changed the <code>pflag</code> field.</p></li></ol><h2 id="Physics-of-the-Ray-Splitting-Functions-1"><a class="docs-heading-anchor" href="#Physics-of-the-Ray-Splitting-Functions-1">Physics of the Ray-Splitting Functions</a><a class="docs-heading-anchor-permalink" href="#Physics-of-the-Ray-Splitting-Functions-1" title="Permalink"></a></h2><p>If <code>T</code> is the transmission probability function, then the condition for transmission is simply: <code>T(φ, pflag, ω) &gt; rand()</code>. If it returns <code>true</code>, transmission (i.e. ray-splitting) will happen.</p><p>The functions given to <a href="#DynamicalBilliards.RaySplitter"><code>RaySplitter</code></a> should have some properties in order to have physical meaning. In order to test if the <code>RaySplitter</code> you have defined has physical meaning, the function <code>isphysical</code> is provided</p><article class="docstring"><header><a class="docstring-binding" id="DynamicalBilliards.isphysical" href="#DynamicalBilliards.isphysical"><code>DynamicalBilliards.isphysical</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">isphysical(raysplitter(s))</code></pre><p>Return <code>true</code> if the given <code>raysplitters</code> have physically plausible properties.</p><p>Specifically, check if (φ is the incidence angle, θ the refraction angle):</p><ul><li>Critical angle means total reflection: If θ(φ) ≥ π/2 then Tr(φ) = 0</li><li>Transmission probability is even function: Tr(φ) ≈ Tr(-φ) at ω = 0</li><li>Refraction angle is odd function: θ(φ) ≈ -θ(-φ) at ω = 0</li><li>Ray reversal is true: θ(θ(φ, pflag, ω), !pflag, ω) ≈ φ</li><li>Magnetic conservation is true: (ω<em>new(ω</em>new(ω, pflag), !pflag) ≈ ω</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/d511071309f4e6823c0cbe078658fe4aea8b6936/src/raysplitting.jl#L327-L339">source</a></section></article><h2 id="Snell&#39;s-Law-1"><a class="docs-heading-anchor" href="#Snell&#39;s-Law-1">Snell&#39;s Law</a><a class="docs-heading-anchor-permalink" href="#Snell&#39;s-Law-1" title="Permalink"></a></h2><p>In classical geometric optics, the refraction of a ray of light moving from one medium to another is described by Snell&#39;s law. For an angle of incidence of <span>$\phi$</span>, the refraction angle <span>$\theta$</span> is determined by the equation</p><div>\[\frac{sin(\phi)}{\sin(\theta)} = \frac{n&#39;}{n}\]</div><p>where <span>$n$</span> and <span>$n&#39;$</span> are the respective refractive indices of the media.</p><p>To easily simulate these relations in <code>DynamicalBilliards</code>, the function <code>law_of_refraction</code> can be used to set up ray-splitting according to this law.</p><article class="docstring"><header><a class="docstring-binding" id="DynamicalBilliards.law_of_refraction" href="#DynamicalBilliards.law_of_refraction"><code>DynamicalBilliards.law_of_refraction</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">law_of_refraction(n1, n2 = 1.0) -&gt; t, r</code></pre><p>Create transmission and refraction functions <code>t, r</code> that follow Snell&#39;s law, i.e. the transmission probability is set to 1.0 except for the case of total internal reflection. </p><p><code>n1</code> is the index of refraction for the <code>pflag = false</code> side of an obstacle, while <code>n2</code> is the index of refraction for <code>pflag = true</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/d511071309f4e6823c0cbe078658fe4aea8b6936/src/raysplitting.jl#L400-L409">source</a></section></article><h2 id="Animation-of-Inverse-Billiards-1"><a class="docs-heading-anchor" href="#Animation-of-Inverse-Billiards-1">Animation of Inverse Billiards</a><a class="docs-heading-anchor-permalink" href="#Animation-of-Inverse-Billiards-1" title="Permalink"></a></h2><p>Here we will show an application of <em>inverse</em> billiards, where particles go in and out of a billiard, while taking advantage of the existence of a strong magnetic field outside of the billiard to return.</p><p>As always, we define the ray-splitting functions:</p><pre><code class="language-julia">using DynamicalBilliards
trans(args...) = 1.0 # always perfect transmission
refra(φ, pflag, ω) = pflag ? 0.8φ : 1.25φ # refraction angle
neww(ω, pflag) = pflag ? 2.0 : 0.4</code></pre><pre><code class="language-none">neww (generic function with 1 method)</code></pre><p>Now, when we define the <a href="#DynamicalBilliards.RaySplitter"><code>RaySplitter</code></a> instance we will choose a different value for <code>affect</code>:</p><pre><code class="language-julia">ray = RaySplitter([1,2,3,4], trans, refra, neww, affect = (i) -&gt; SVector(1,2,3,4))</code></pre><pre><code class="language-none">RaySplitter for indices [1, 2, 3, 4]
 transmission: trans
 refraction:   refra
 new angular:  neww
 affect:       #3
</code></pre><p>We initialize a simple rectangular billiard and a particle</p><pre><code class="language-julia">bd = billiard_rectangle(setting = &quot;ray-splitting&quot;)
p = MagneticParticle(0.4, 0.6, 0.0, 0.4)</code></pre><pre><code class="language-none">MagneticParticle{Float64}
position: [0.4, 0.6]
velocity: [1.0, 0.0]
ang. velocity: 0.4</code></pre><p><a href="../billiards_visualizations/#InteractiveDynamics.bdplot_interactive"><code>bdplot_interactive</code></a> does not accept ray-splitters yet (but it is easy if you want to do a PR). Nevertheless, doing an animation is still straightforward:</p><pre><code class="language-">using InteractiveDynamics, CairoMakie

fig, ax = bdplot(bd)
xlims!(ax, (-1, 2)); ylims!(ax, (-1, 2)) # zoom out
xt, yt = timeseries(p, bd, 10.0, (ray,))
D = 300
xta = Observable(xt[1:D])
yta = Observable(yt[1:D])
lines!(ax, xta, yta; color = :green)

record(fig, &quot;inverse_billiard.mp4&quot;, D+1:length(xt); framerate = 30) do i
    push!(xta[], xt[i]); popfirst!(xta[])
    push!(yta[], yt[i]); popfirst!(yta[])
    notify.((xta, yta))
end</code></pre><video width="auto" controls autoplay loop>
<source src="../inverse_billiard.mp4" type="video/mp4">
</video></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../basic/phasespaces/">« Phase Spaces</a><a class="docs-footer-nextpage" href="../lyapunovs/">Lyapunov Exponents »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 11 March 2022 18:54">Friday 11 March 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
