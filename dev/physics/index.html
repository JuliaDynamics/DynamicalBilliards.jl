<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Physics · DynamicalBilliards.jl</title><meta name="title" content="Physics · DynamicalBilliards.jl"/><meta property="og:title" content="Physics · DynamicalBilliards.jl"/><meta property="twitter:title" content="Physics · DynamicalBilliards.jl"/><meta name="description" content="Documentation for DynamicalBilliards.jl."/><meta property="og:description" content="Documentation for DynamicalBilliards.jl."/><meta property="twitter:description" content="Documentation for DynamicalBilliards.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="https://fonts.googleapis.com/css?family=Montserrat|Source+Code+Pro&amp;display=swap" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="DynamicalBilliards.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">DynamicalBilliards.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../basic/high_level/">High Level API</a></li><li><a class="tocitem" href="../billiards_visualizations/">Visualizing &amp; Animating</a></li><li><a class="tocitem" href="../basic/phasespaces/">Phase Spaces</a></li><li><a class="tocitem" href="../ray-splitting/">Ray-Splitting</a></li><li><a class="tocitem" href="../lyapunovs/">Lyapunov Exponents</a></li><li><a class="tocitem" href="../mushroomtools/">MushroomTools</a></li><li class="is-active"><a class="tocitem" href>Physics</a><ul class="internal"><li><a class="tocitem" href="#Pinned-Particles"><span>Pinned Particles</span></a></li><li><a class="tocitem" href="#Velocity-measure"><span>Velocity measure</span></a></li></ul></li><li><a class="tocitem" href="../basic/low_level/">Internals</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/billiard_table/">Defining a Billiard</a></li><li><a class="tocitem" href="../tutorials/own_obstacle/">Defining your own Obstacles</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Physics</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Physics</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/master/docs/src/physics.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>This page briefly discusses physical aspects of billiard systems.</p><h2 id="Pinned-Particles"><a class="docs-heading-anchor" href="#Pinned-Particles">Pinned Particles</a><a id="Pinned-Particles-1"></a><a class="docs-heading-anchor-permalink" href="#Pinned-Particles" title="Permalink"></a></h2><p>In the case of propagation with magnetic field, a particle may be &quot;pinned&quot; (collision-less): There are no possible collisions that take place and the particle will revolve in circles forever. This can happen for specific initial conditions depending on your billiard table and the angular velocity ω. The function <a href="#DynamicalBilliards.ispinned"><code>ispinned</code></a> shows you whether a particle meets the conditions.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="DynamicalBilliards.ispinned" href="#DynamicalBilliards.ispinned"><code>DynamicalBilliards.ispinned</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">ispinned(p::MagneticParticle, bd::Billiard)</code></pre><p>Return <code>true</code> if the particle is pinned with respect to the billiard. Pinned particles either have no valid collisions (go in circles forever) or all their valid collisions are with periodic walls, which again means that they go in cirles for ever.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaDynamics/DynamicalBilliards.jl/blob/f062b1d3021361df650f367e396294ca03cdeaaf/src/timeevolution/propagation.jl#L161-L167">source</a></section></article><p>In such event, the convention followed by <code>DynamicalBilliards</code> is the following: <a href="../basic/high_level/#DynamicalBilliards.evolve!"><code>evolve!</code></a> returns the expected output, however all returned vectors have only 2 entries. The collision times always have the entries <code>0.0, Inf</code>. All other returned vectors have the initial conditions, repeated once.</p><p><a href="../basic/high_level/#DynamicalBilliards.evolve!"><code>evolve!</code></a> can be given an additional <code>warning</code> keyword argument in the case of magnetic propagation, e.g. <code>warning = true</code> that throws a  message whenever a pinned particle is evolved.</p><h2 id="Velocity-measure"><a class="docs-heading-anchor" href="#Velocity-measure">Velocity measure</a><a id="Velocity-measure-1"></a><a class="docs-heading-anchor-permalink" href="#Velocity-measure" title="Permalink"></a></h2><p>Both <code>Particle</code> and <code>MagneticParticle</code> are assumed to <strong>always</strong> have a velocity vector of measure 1 during evolution. This simplifies the formulas used internally to a significant amount.</p><p>However, during ray-splitting, the a <code>MagneticParticle</code> may be in areas with different angular velocities (result of the <code>ω_new</code> function). Physically, in such a situation, the velocity measure of the particle could also change. This change depends on the forces acting on the particle (e.g. magnetic field) as well as the relation of the momentum with the velocity (functional type of kinetic energy).</p><p>In any case, such a change is not accounted for internally by <code>DynamicalBilliards</code>. However it is very easy to implement this by &quot;re-normalizing&quot; the angular velocities you use. Since the &quot;code&quot; velocity has measure one, the rotation radius is given by</p><p class="math-container">\[r = \frac{1}{\omega_\text{code}} = \frac{v_\text{real}}{\omega_\text{real}}\]</p><p>then one simply has to adjust the values of <code>ω</code> given in the code with</p><p class="math-container">\[\omega_\text{code} = \frac{\omega_\text{real}}{v_\text{real}}\]</p><p>After getting the timeseries:</p><pre><code class="language-julia hljs"># These are the &quot;code&quot;-data. |v| = 1 always
ct, poss, vels, omegas = evolve(p, bd, ttotal)
xt, yt, vxt, vyt, t = timeseries(p, bd, ttotal)</code></pre><p>you only need to make some final adjustment on the <code>vxt, vyt</code>. The position and time data are completely unaffected.</p><pre><code class="language-julia hljs">omegas_code = omegas
# real angular velocities:
omegas_real = supplied_by_user
# or with some user provided function:
f = o -&gt; (o == 0.5 ? 2o : o*√2)
omegas_real = f.(omegas_code)
# real velocity measure:
vels_real = abs.(omegas_real ./ omegas_code)

contt = cumsum(ct)
omega_t = zeros(t)
vxtreal = copy(vxt)
vytreal = copy(vyt)
j = 1
for i in eachindex(t)
  vxtreal[i] *= vels_real[j]
  vytreal[i] *= vels_real[j]
  omega_t[i] = omegas_real[j]

  if t[i] &gt;=  contt[j]
    j += 1
  end
end</code></pre><p>Now you can be sure that the particle at time <code>t[i]</code> had real velocity <code>[vxtreal[i], vytreal[i]]</code> and was propagating with real angular velocity <code>omega_t[i]</code>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../mushroomtools/">« MushroomTools</a><a class="docs-footer-nextpage" href="../basic/low_level/">Internals »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.1 on <span class="colophon-date" title="Friday 21 June 2024 09:39">Friday 21 June 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
